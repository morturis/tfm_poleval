<div class="ms-4 me-4">
  <!--TODO make centered -->
  <p>{{ "make_code_available_text" | translate }}</p>
  <p>
    <b>{{ form_code_to_show }}</b>
  </p>

  <button mat-button class="mb-3" (click)="this.downloadCsv()">
    {{ "so_far_there_are" | translate }}{{ " " }}
    <b>{{ this.evaluation?.responses?.length || "0" }}</b>
    {{ " " }}{{ "responses_in_total" | translate }}
  </button>

  <p>{{ "field_work_phase_description" | translate }}</p>
</div>

<div class="pb-4">
  <mat-accordion>
    <div *ngFor="let question of this.formQuestions">
      <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title> {{ question.header }} </mat-panel-title>
          <!-- TYPE OF QUESTION. ## RESPONSES IN TOTAL -->
          <mat-panel-description>
            {{ getQuestionType(question) | translate }}.
            {{ getNumberOfResponses(question) || "0" }}
            {{ "responses_in_total" | translate }}
          </mat-panel-description>
        </mat-expansion-panel-header>

        <ng-template [ngIf]="question.fieldType === 'dropdown'">
          <histogram
            [dataset]="question.responses || []"
            [responseOptions]="question.responseOptions || []"
            [header]="question.header"
          >
          </histogram>
        </ng-template>

        <ng-template [ngIf]="question.fieldType === 'input'">
          <mat-list>
            <mat-list-item *ngFor="let resp of question.responses">
              {{ resp }}
            </mat-list-item>
          </mat-list>
        </ng-template>
      </mat-expansion-panel>
    </div>
  </mat-accordion>
</div>
